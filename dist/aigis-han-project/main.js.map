{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/constant.ts","webpack:///./src/app/dash-info/dash-info.component.css","webpack:///./src/app/dash-info/dash-info.component.html","webpack:///./src/app/dash-info/dash-info.component.ts","webpack:///./src/app/dash-progress/dash-progress.component.css","webpack:///./src/app/dash-progress/dash-progress.component.html","webpack:///./src/app/dash-progress/dash-progress.component.ts","webpack:///./src/app/dashboard/dashboard.component.css","webpack:///./src/app/dashboard/dashboard.component.html","webpack:///./src/app/dashboard/dashboard.component.ts","webpack:///./src/app/editor/commit.ts","webpack:///./src/app/editor/editor.module.ts","webpack:///./src/app/editor/editor.service.ts","webpack:///./src/app/editor/editor/editor.component.css","webpack:///./src/app/editor/editor/editor.component.html","webpack:///./src/app/editor/editor/editor.component.ts","webpack:///./src/app/editor/newline.pipe.ts","webpack:///./src/app/editor/section.model.ts","webpack:///./src/app/files-detail/allocate.component.html","webpack:///./src/app/files-detail/allocate.component.ts","webpack:///./src/app/files-detail/files-detail.component.css","webpack:///./src/app/files-detail/files-detail.component.html","webpack:///./src/app/files-detail/files-detail.component.ts","webpack:///./src/app/files-detail/preview.component.html","webpack:///./src/app/files-detail/preview.component.ts","webpack:///./src/app/files.service.ts","webpack:///./src/app/files/files.component.css","webpack:///./src/app/files/files.component.html","webpack:///./src/app/files/files.component.ts","webpack:///./src/app/login/login.component.css","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/mypage/mypage.component.css","webpack:///./src/app/mypage/mypage.component.html","webpack:///./src/app/mypage/mypage.component.ts","webpack:///./src/app/processbar/processbar.component.css","webpack:///./src/app/processbar/processbar.component.html","webpack:///./src/app/processbar/processbar.component.ts","webpack:///./src/app/reg/reg.component.css","webpack:///./src/app/reg/reg.component.html","webpack:///./src/app/reg/reg.component.ts","webpack:///./src/app/sections.service.ts","webpack:///./src/app/sidenav/sidenav.component.css","webpack:///./src/app/sidenav/sidenav.component.html","webpack:///./src/app/sidenav/sidenav.component.ts","webpack:///./src/app/users.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\nimport { FilesComponent } from './files/files.component';\r\nimport { EditorComponent } from './editor/editor/editor.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { MypageComponent } from './mypage/mypage.component';\r\nimport { RegComponent } from './reg/reg.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: '/files', pathMatch: 'full' },\r\n  { path: 'dashboard', component: DashboardComponent },\r\n  { path: 'files', component: FilesComponent },\r\n  { path: 'editor/:id', component: EditorComponent },\r\n  { path: 'login', component: LoginComponent },\r\n  { path: 'mypage', component: MypageComponent },\r\n  { path: 'reg', component: RegComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","module.exports = \".main-container {\\r\\n  flex: 1;\\r\\n}\\r\\n\\r\\n:host {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.sidenav {\\r\\n  width: 15%;\\r\\n}\\r\\n\\r\\n.content-container {\\r\\n  padding: 50px;\\r\\n}\\r\\n\\r\\n.spacer {\\r\\n  flex: 1 1 auto;\\r\\n}\\r\\n\"","module.exports = \"<mat-toolbar color=\\\"primary\\\">\\r\\n  <span>{{title}}</span>\\r\\n</mat-toolbar>\\r\\n<mat-sidenav-container class=\\\"main-container\\\">\\r\\n  <mat-sidenav mode=\\\"side\\\" opened class=\\\"sidenav\\\">\\r\\n    <app-sidenav></app-sidenav>\\r\\n  </mat-sidenav>\\r\\n  <mat-sidenav-content>\\r\\n    <div class=\\\"content-container\\\">\\r\\n      <router-outlet></router-outlet>\\r\\n    </div>\\r\\n  </mat-sidenav-content>\\r\\n</mat-sidenav-container>\\r\\n\"","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = '千年战争Aigis';\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\n\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { SidenavComponent } from './sidenav/sidenav.component';\r\nimport { FilesComponent } from './files/files.component';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatGridListModule } from '@angular/material/grid-list';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\n\r\nimport { DashInfoComponent } from './dash-info/dash-info.component';\r\nimport { DashProgressComponent } from './dash-progress/dash-progress.component';\r\nimport { FilesDetailComponent } from './files-detail/files-detail.component';\r\nimport { ProcessbarComponent } from './processbar/processbar.component';\r\nimport { EditorModule } from './editor/editor.module';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { MypageComponent } from './mypage/mypage.component';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { MatFormFieldModule, MatInputModule, MatDialogModule, MatOptionModule, MatSelectModule } from '@angular/material';\r\nimport { RegComponent } from './reg/reg.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { AllocateDialogComponent } from './files-detail/allocate.component';\r\nimport { PreviewDialogComponent } from './files-detail/preview.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    DashboardComponent,\r\n    SidenavComponent,\r\n    FilesComponent,\r\n    DashInfoComponent,\r\n    DashProgressComponent,\r\n    FilesDetailComponent,\r\n    ProcessbarComponent,\r\n    LoginComponent,\r\n    MypageComponent,\r\n    RegComponent,\r\n    AllocateDialogComponent,\r\n    PreviewDialogComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    EditorModule,\r\n    FormsModule,\r\n    MatSidenavModule,\r\n    MatToolbarModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatGridListModule,\r\n    MatMenuModule,\r\n    MatExpansionModule,\r\n    MatTabsModule,\r\n    MatCheckboxModule,\r\n    ReactiveFormsModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatDialogModule,\r\n    MatOptionModule,\r\n    MatSelectModule,\r\n  ],\r\n  entryComponents: [\r\n    AllocateDialogComponent,\r\n    PreviewDialogComponent,\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import * as url from 'url';\r\n\r\nexport class Constants {\r\n    public static get BASEHOST() { return '127.0.0.1'; }\r\n    public static get BASEPORT() { return 19810; }\r\n    public static GenRequestURL(pathname: string, query?: {}) {\r\n        return url.format({\r\n            //            protocol: 'http',\r\n            //            hostname: this.BASEHOST,\r\n            //            port: this.BASEPORT,\r\n            pathname: `/api${pathname}`,\r\n            query\r\n        });\r\n    }\r\n}\r\n","module.exports = \".container {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.info {\\r\\n  margin-left: 20px;\\r\\n}\\r\\n\\r\\np{\\r\\n    margin:5px 0 5px 0;\\r\\n}\\r\\n\"","module.exports = \"<div class=\\\"container\\\">\\r\\n  <div style=\\\"background:black;width:100px;height:150px;\\\">\\r\\n  </div>\\r\\n  <div class=\\\"info\\\">\\r\\n    <h1>千年战争Aigis</h1>\\r\\n    <p>原文更新时间：</p>\\r\\n    <p>上次发布时间：</p>\\r\\n    <p>总文本：xx个</p>\\r\\n    <p>总条目：xx条</p>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-dash-info',\r\n  templateUrl: './dash-info.component.html',\r\n  styleUrls: ['./dash-info.component.css']\r\n})\r\nexport class DashInfoComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<p>\\r\\n  dash-progress works!\\r\\n</p>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-dash-progress',\r\n  templateUrl: './dash-progress.component.html',\r\n  styleUrls: ['./dash-progress.component.css']\r\n})\r\nexport class DashProgressComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"mat-card {\\r\\n  width: 100%;\\r\\n  margin:0 20px 0 20px;\\r\\n}\\r\\n\"","module.exports = \"<mat-grid-list cols=\\\"2\\\" rowHeight=\\\"200px\\\">\\r\\n  <mat-grid-tile colspan=\\\"1\\\" rowspan=\\\"2\\\">\\r\\n    <mat-card>\\r\\n      <app-dash-info></app-dash-info>\\r\\n    </mat-card>\\r\\n  </mat-grid-tile>\\r\\n  <mat-grid-tile colspan=\\\"1\\\" rowspan=\\\"2\\\">\\r\\n    <mat-card>\\r\\n      <app-dash-progress></app-dash-progress>\\r\\n    </mat-card>\\r\\n  </mat-grid-tile>\\r\\n</mat-grid-list>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.css']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","export class Commit {\r\n    static id(commits, id) {\r\n        return commits.find(commit => commit._id === id);\r\n    }\r\n    static findLatestTranslation(commits) {\r\n        for (let i = commits.length - 1; i >= 0; i--) {\r\n            if (commits[i].type === 1) { return commits[i]; }\r\n        }\r\n        return null;\r\n    }\r\n    static findLeaves(commits) {\r\n        const leaves = [];\r\n        let status = 0;\r\n        for (let i = 0; i < commits.length; i++) {\r\n            // 没有子节点或者所有子节点的状态都比自己高，说明这是一个叶子节点\r\n            (function () {\r\n                const commit = commits[i];\r\n                if (commit.children.length !== 0) {\r\n                    for (let j = 0; j < commit.children.length; j++) {\r\n                        if (commit.children[j].type <= commit.type) {\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                leaves.push(commit);\r\n                status = Math.max(status, commit.type);\r\n            })();\r\n        }\r\n        return [leaves, status];\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { EditorComponent } from './editor/editor.component';\r\nimport { NewlinePipe } from './newline.pipe';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { MatSnackBarModule, MatTableModule, MatCardModule, MatButtonModule, MatCheckboxModule, MatSelectModule } from '@angular/material';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { EditorService } from './editor.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    MatSnackBarModule,\r\n    MatTableModule,\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    FormsModule,\r\n    MatFormFieldModule,\r\n    MatCheckboxModule,\r\n    MatSelectModule,\r\n  ],\r\n  declarations: [\r\n    EditorComponent,\r\n    NewlinePipe,\r\n  ],\r\n  providers: [EditorService],\r\n  exports: [\r\n    EditorComponent,\r\n  ],\r\n})\r\nexport class EditorModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { UsersService } from '../users.service';\r\nimport { Router } from '@angular/router';\r\nimport { Constants } from '../constant';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Section, SectionStatus } from './section.model';\r\nimport { Commit } from './commit';\r\ninterface CommitDto {\r\n  text: string;\r\n  sectionId: string;\r\n  type: number;\r\n  originId: string;\r\n  polished: boolean;\r\n}\r\n\r\n@Injectable()\r\nexport class EditorService {\r\n  notCommited: CommitDto[] = [];\r\n  constructor(\r\n    private http: HttpClient,\r\n    private usersService: UsersService,\r\n    private router: Router,\r\n  ) {\r\n    try {\r\n      this.notCommited = JSON.parse(localStorage.getItem('notCommited')) || [];\r\n    } catch (err) { }\r\n  }\r\n  async getSectionsByUser(filter: number) {\r\n    if (!this.usersService.Token) { this.router.navigateByUrl('/login'); }\r\n    const requestURL = Constants.GenRequestURL(\r\n      '/assets/sections',\r\n      {\r\n        token: this.usersService.Token,\r\n        skip: 0,\r\n        limit: 0,\r\n        filter,\r\n      }\r\n    );\r\n    try {\r\n      const r = await this.http.get<Section[]>(requestURL).toPromise();\r\n      console.log(r);\r\n      return r;\r\n    } catch (err) {\r\n      console.error(err);\r\n      this.router.navigateByUrl('/login');\r\n    }\r\n  }\r\n  async getSectionsByFile(fileId: string) {\r\n    if (!this.usersService.Token) { this.router.navigateByUrl('/login'); }\r\n    const requestURL = Constants.GenRequestURL(\r\n      '/assets/file/' + fileId + '/sections',\r\n      {\r\n        token: this.usersService.Token,\r\n        skip: 0,\r\n        limit: 0,\r\n        contracted: 0\r\n      }\r\n    );\r\n    try {\r\n      const r = await this.http.get<Section[]>(requestURL).toPromise();\r\n      return r;\r\n    } catch (err) {\r\n      console.error(err);\r\n      this.router.navigateByUrl('/login');\r\n    }\r\n  }\r\n  addCommit(commitDto: CommitDto) {\r\n    const exist = this.notCommited.findIndex(v => v.sectionId === commitDto.sectionId);\r\n    if (exist !== -1) {\r\n      this.notCommited[exist] = commitDto;\r\n    } else {\r\n      this.notCommited.push(commitDto);\r\n    }\r\n    localStorage.setItem('notCommited', JSON.stringify(this.notCommited));\r\n  }\r\n  deleteCommit(sectionId: string) {\r\n    const exist = this.notCommited.findIndex(v => v.sectionId === sectionId);\r\n    console.log(exist);\r\n    if (exist >= 0) {\r\n      this.notCommited.splice(exist, 1);\r\n    }\r\n    localStorage.setItem('notCommited', JSON.stringify(this.notCommited));\r\n  }\r\n\r\n  async commit() {\r\n    const requestURL = Constants.GenRequestURL(\r\n      '/assets/sections',\r\n      {\r\n        token: this.usersService.Token\r\n      }\r\n    );\r\n    try {\r\n      const jobs = this.notCommited.filter(v => v.text !== '');\r\n      const result = await this.http.post(requestURL, {\r\n        submitedWork: {\r\n          works: jobs\r\n        },\r\n      }).toPromise();\r\n      console.log(result);\r\n      // Todo:冲突处理\r\n\r\n      this.notCommited = [];\r\n      localStorage.setItem('notCommited', '[]');\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n}\r\n","module.exports = \".drag-area {\\r\\n  height: 100px;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: space-around;\\r\\n}\\r\\n\\r\\n.table {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.full-width {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.card {\\r\\n  position: -webkit-sticky;\\r\\n  position: sticky;\\r\\n  top: 0px;\\r\\n\\r\\n}\\r\\n\\r\\n.flex-content{\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  align-items:center;\\r\\n}\\r\\n\\r\\n.mat-column-raw{\\r\\n  width:30%;\\r\\n}\\r\\n\\r\\n.mat-column-origin {\\r\\n  width:30%;\\r\\n}\\r\\n\\r\\n.origin-panel{\\r\\n  height:100%;\\r\\n}\"","module.exports = \"<mat-card class=\\\"card\\\">\\r\\n  <p style=\\\"font-size:10px;color:gray;\\\">{{typeText[type]}}模式</p>\\r\\n  <div class=\\\"flex-content\\\">\\r\\n    <div>\\r\\n      <mat-checkbox [checked]=\\\"showAll\\\" (change)=\\\"onShowAllClick($event.checked)\\\">显示已完成的</mat-checkbox>\\r\\n    </div>\\r\\n    <div>\\r\\n      <button mat-raised-button color=\\\"accent\\\" *ngIf=\\\"editorService.notCommited.length > 0\\\" (click)=\\\"commit()\\\">提交</button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</mat-card>\\r\\n\\r\\n<table mat-table [dataSource]=\\\"dataSource\\\" class=\\\"table\\\">\\r\\n  <ng-container matColumnDef=\\\"desc\\\">\\r\\n    <th mat-header-cell *matHeaderCellDef> 杂项 </th>\\r\\n    <td mat-cell *matCellDef=\\\"let text\\\">\\r\\n      <p style=\\\"margin:0\\\">{{ text.desc }} </p>\\r\\n    </td>\\r\\n  </ng-container>\\r\\n  <ng-container matColumnDef=\\\"raw\\\">\\r\\n    <th mat-header-cell *matHeaderCellDef> 原文 </th>\\r\\n    <td mat-cell *matCellDef=\\\"let text\\\">\\r\\n      <p style=\\\"margin:0\\\" *ngFor=\\\"let t of text.rawCommit.text.split('\\\\\\\\n')\\\">{{ t }} </p>\\r\\n    </td>\\r\\n  </ng-container>\\r\\n  <ng-container matColumnDef=\\\"origin\\\">\\r\\n    <th mat-header-cell *matHeaderCellDef> 基础 </th>\\r\\n    <td mat-cell *matCellDef=\\\"let text\\\">\\r\\n      <div style=\\\"display:flex; align-items: center\\\">\\r\\n        <mat-select placeholder=\\\"基础提交\\\" [(value)]=\\\"text.originCommit\\\">\\r\\n          <mat-select-trigger>\\r\\n            <p style=\\\"margin:0\\\" *ngFor=\\\"let t of getCommitInLeaves(text.leaves, text.originCommit).text.split('\\\\\\\\n')\\\">{{\\r\\n              t }} </p>\\r\\n          </mat-select-trigger>\\r\\n          <ng-container *ngFor=\\\"let leaf of text.leaves\\\">\\r\\n            <mat-option *ngIf=\\\"leaf.type <= type && ((type >= 2 && leaf.type >= 1) || type < 2)\\\" [value]=\\\"leaf._id\\\"\\r\\n              style=\\\"height:100%;\\\">\\r\\n              <p style=\\\"margin:0\\\" *ngFor=\\\"let t of leaf.text.split('\\\\\\\\n')\\\">{{ t }} </p>\\r\\n            </mat-option>\\r\\n          </ng-container>\\r\\n        </mat-select>\\r\\n        <button mat-icon-button (click)=\\\"onTextareaBlur(text, getCommitInLeaves(text.leaves, text.originCommit).text.replace('\\\\\\\\n','\\\\n'))\\\">\\r\\n          > </button>\\r\\n      </div>\\r\\n    </td>\\r\\n  </ng-container>\\r\\n  <ng-container matColumnDef=\\\"modify\\\">\\r\\n    <th mat-header-cell *matHeaderCellDef> 编辑 </th>\\r\\n    <td mat-cell *matCellDef=\\\"let text\\\">\\r\\n      <textarea class=\\\"full-width\\\" matInput [value]=\\\"text.notCommited?.originId === text.originCommit ? text.notCommited.text : ''\\\"\\r\\n        (blur)=\\\"onTextareaBlur(text,$event.target.value)\\\" cdkTextareaAutosize></textarea>\\r\\n    </td>\\r\\n  </ng-container>\\r\\n  <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\r\\n  <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\" [ngStyle]=\\\"{background:row.notCommited?.originId === row.originCommit ? '#FFCDD2' : (row.status >= type ? '#C8E6C9' : null)}\\\"></tr>\\r\\n</table>\"","import { Component, HostListener, OnInit } from '@angular/core';\r\nimport { saveAs } from 'file-saver';\r\nimport { MatSnackBar, MatTableDataSource } from '@angular/material';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { EditorService } from '../editor.service';\r\nimport { SectionStatus, Section } from '../section.model';\r\nimport { Commit } from '../commit';\r\n\r\n@Component({\r\n  selector: 'app-editor',\r\n  templateUrl: './editor.component.html',\r\n  styleUrls: ['./editor.component.css']\r\n})\r\nexport class EditorComponent implements OnInit {\r\n  typeText = ['生肉', '翻译', '校对', '润色'];\r\n  type = SectionStatus.Translated;\r\n  fileId = '';\r\n  showAll = false;\r\n  dataSource: MatTableDataSource<any> = null;\r\n  Commit = Commit;\r\n  constructor(\r\n    private snackBar: MatSnackBar,\r\n    private route: ActivatedRoute,\r\n    public editorService: EditorService,\r\n  ) {\r\n    route.params.subscribe(params => {\r\n      this.fileId = params['id'];\r\n      if (this.fileId !== 'null') {\r\n        this.type = SectionStatus.Corrected;\r\n      }\r\n    });\r\n  }\r\n  textList = [];\r\n  displayedColumns = ['desc', 'raw', 'origin', 'modify'];\r\n\r\n  async ngOnInit() {\r\n    if (this.type === SectionStatus.Translated) {\r\n      const rawSections = await this.editorService.getSectionsByUser(4);\r\n      if (!rawSections) { return; }\r\n      this.textList = this.genList(rawSections);\r\n    } else {\r\n      const rawSections = await this.editorService.getSectionsByFile(this.fileId);\r\n      if (!rawSections) { return; }\r\n      this.textList = this.genList(rawSections);\r\n    }\r\n    console.log(this.textList);\r\n    this.dataSource = new MatTableDataSource(this.textList);\r\n  }\r\n  onTextareaBlur(section, text) {\r\n    if (!text) {\r\n      this.editorService.deleteCommit(section.sectionId);\r\n      section.notCommited = undefined;\r\n      return;\r\n    }\r\n    section.notCommited = {\r\n      text,\r\n      sectionId: section.sectionId,\r\n      type: this.type,\r\n      originId: section.originCommit,\r\n      polished: false\r\n    };\r\n    this.editorService.addCommit(section.notCommited);\r\n  }\r\n  async commit() {\r\n    await this.editorService.commit();\r\n    this.snackBar.open('保存成功', '', {\r\n      duration: 3000,\r\n      verticalPosition: 'top',\r\n    });\r\n    this.ngOnInit();\r\n  }\r\n  async onShowAllClick(isShowAll) {\r\n    this.showAll = isShowAll;\r\n    await this.ngOnInit();\r\n  }\r\n\r\n  genList(rawSections: Section[]) {\r\n    const list = [];\r\n    rawSections.forEach((section) => {\r\n      const row: any = {};\r\n      row.sectionId = section._id;\r\n      row.desc = section.desc;\r\n      row.originCommit = '';\r\n      // 原文\r\n      const rawCommit = Commit.id(section.commits, section.rawCommit);\r\n      row.rawCommit = rawCommit;\r\n      // 叶子\r\n      const [leaves, status] = Commit.findLeaves(section.commits);\r\n\r\n      // 设置默认基础提交\r\n      if (this.type === SectionStatus.Translated) {\r\n        row.originCommit = section.rawCommit;\r\n      }\r\n      if (this.type === SectionStatus.Corrected && status >= SectionStatus.Translated) {\r\n        row.originCommit = (<Array<any>>leaves).find(v => v.type === SectionStatus.Translated)._id;\r\n      }\r\n      if (this.type === SectionStatus.Polished && status >= SectionStatus.Corrected) {\r\n        row.originCommit = (<Array<any>>leaves).find(v => v.type === SectionStatus.Corrected)._id;\r\n      }\r\n      if (row.originCommit === '') { return; }\r\n      row.leaves = leaves;\r\n      row.status = status;\r\n      if (status >= this.type && this.showAll === false) {\r\n        return;\r\n      }\r\n      // 缓存\r\n      const notCommited = this.editorService.notCommited.find((commit) => {\r\n        if (commit.sectionId !== section._id) { return false; }\r\n        // if (commit.type !== SectionStatus.Translated) { return false; }\r\n        return true;\r\n      });\r\n      row.notCommited = notCommited;\r\n      if (notCommited && (<Array<any>>leaves).findIndex(v => v._id === notCommited.originId)) {\r\n        row.originCommit = notCommited.originId;\r\n      }\r\n      list.push(row);\r\n    });\r\n    return list;\r\n  }\r\n  getCommitInLeaves(leaves, id) {\r\n    return leaves.find(v => v._id === id);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n/*\r\n * Converts newlines into html breaks\r\n*/\r\n@Pipe({ name: 'newline' })\r\nexport class NewlinePipe implements PipeTransform {\r\n    transform(value: string, args: string[]): any {\r\n        return value.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />');\r\n    }\r\n}\r\n","export interface Section {\r\n    commits: {\r\n        author: string,\r\n        children: string[],\r\n        text: string,\r\n        time: number,\r\n        type: number,\r\n        _id: string,\r\n    }[];\r\n    contractInfo: {\r\n        contractor: string,\r\n        time: number,\r\n    };\r\n    corrected: boolean;\r\n    desc: string;\r\n    hash: string;\r\n    lastPolishCommit: string;\r\n    lastPublish: number;\r\n    lastUpdated: number;\r\n    motified: boolean;\r\n    parent: string[];\r\n    polished: boolean;\r\n    publishedCommit: string;\r\n    rawCommit: string;\r\n    translated: boolean;\r\n    _id;\r\n}\r\nexport enum SectionStatus { Raw, Translated, Corrected, Polished, Modified }\r\n","module.exports = \"<h1 mat-dialog-title>承包</h1>\\r\\n<div mat-dialog-content>\\r\\n  <p>你要承包多少\\r\\n    <button mat-raised-button (click)=\\\"allocateAll()\\\">\\r\\n      承包{{data.maxCount > 100 ? '100条' : '所有'}}\\r\\n    </button>\\r\\n  </p>\\r\\n  <div style=\\\"display:flex;\\\">\\r\\n    <mat-form-field>\\r\\n      <input matInput [(ngModel)]=\\\"allocateCount\\\" />\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n<div mat-dialog-actions>\\r\\n  <button mat-button (click)=\\\"onNoClick()\\\">卜了</button>\\r\\n  <button mat-button (click)=\\\"onAllocateClick()\\\" cdkFocusInitial>交给我吧！</button>\\r\\n</div>\\r\\n\"","import { Component, Inject } from '@angular/core';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { FilesService } from '../files.service';\r\n\r\n@Component({\r\n    selector: 'app-files-detail-allocate-dialog',\r\n    templateUrl: 'allocate.component.html',\r\n})\r\nexport class AllocateDialogComponent {\r\n\r\n    allocateCount = 0;\r\n    constructor(\r\n        public dialogRef: MatDialogRef<AllocateDialogComponent>,\r\n        @Inject(MAT_DIALOG_DATA) public data: { index: number, maxCount: number },\r\n        private filesService: FilesService\r\n    ) { }\r\n\r\n    onNoClick(): void {\r\n        this.dialogRef.close();\r\n    }\r\n    async onAllocateClick() {\r\n        await this.filesService.allocateSection(this.data.index, this.allocateCount);\r\n        this.dialogRef.close();\r\n    }\r\n    allocateAll() {\r\n        this.allocateCount = this.data.maxCount > 100 ? 100 : this.data.maxCount;\r\n    }\r\n\r\n}\r\n","module.exports = \".job {\\r\\n  display: flex;\\r\\n  margin: 5px;\\r\\n  align-items: center;\\r\\n}\\r\\n.job *{\\r\\n  margin:5px;\\r\\n}\\r\\np {\\r\\n  margin: 0 5px 0 0;\\r\\n}\\r\\n.processbar {\\r\\n  width: 300px;\\r\\n}\\r\\n.job-processbar {\\r\\n  width: 30%;\\r\\n  margin-right:5px;\\r\\n}\\r\\n.tab-container {\\r\\n  margin-left: 10px;\\r\\n  margin-right:10px;\\r\\n  margin-top:20px;\\r\\n}\\r\\n\"","module.exports = \"<h2>进度</h2>\\r\\n<app-processbar [max]=\\\"file.sectionCount\\\" [data]=\\\"data\\\" [desc]=\\\"true\\\"></app-processbar>\\r\\n<mat-tab-group>\\r\\n  <mat-tab label=\\\"承包\\\">\\r\\n    <div class=\\\"tab-container\\\">\\r\\n      <div class=\\\"job\\\">\\r\\n        <p>我承包了 {{myContractor}}</p>\\r\\n        <button mat-raised-button color=\\\"accent\\\" (click)=\\\"openAllocateDialog()\\\">承包</button>\\r\\n        <button mat-raised-button (click)=\\\"openPreviewDialog()\\\">预览</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </mat-tab>\\r\\n  <mat-tab label=\\\"校对/润色\\\">\\r\\n    <div class=\\\"tab-container\\\">\\r\\n      <button mat-raised-button color=\\\"accent\\\" (click)=\\\"openEditor()\\\">进入编辑器</button>\\r\\n    </div>\\r\\n  </mat-tab>\\r\\n</mat-tab-group>\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { File } from '../files.model';\r\nimport { UsersService } from '../users.service';\r\nimport { FilesService } from '../files.service';\r\nimport { MatDialog } from '@angular/material';\r\nimport { AllocateDialogComponent } from './allocate.component';\r\nimport { PreviewDialogComponent } from './preview.component';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-files-detail',\r\n  templateUrl: './files-detail.component.html',\r\n  styleUrls: ['./files-detail.component.css'],\r\n})\r\nexport class FilesDetailComponent implements OnInit {\r\n  constructor(\r\n    private usersService: UsersService,\r\n    private filesService: FilesService,\r\n    private dialog: MatDialog,\r\n    private router: Router,\r\n  ) { }\r\n\r\n  _file: File;\r\n  @Input() index;\r\n  get file() {\r\n    return this._file;\r\n  }\r\n  @Input() set file(file: File) {\r\n    this._file = file;\r\n    const r = file.contractors.find(v => {\r\n      return v.user === this.usersService.user._id;\r\n    });\r\n    this.myContractor = r ? r.count : 0;\r\n  }\r\n  public myContractor;\r\n  public data: any[];\r\n  ngOnInit() {\r\n    this.data = [\r\n      { value: this.file.translated, color: '#20A0FF', desc: '已翻译' },\r\n      { value: this.file.corrected, color: '#F7BA2A', desc: '已校对' },\r\n      { value: this.file.polished, color: '#13CE66', desc: '已润色' },\r\n    ];\r\n  }\r\n  openAllocateDialog() {\r\n    this.dialog.open(AllocateDialogComponent, {\r\n      width: '250px',\r\n      data: { index: this.index, maxCount: this.file.sectionCount },\r\n    });\r\n  }\r\n  async openPreviewDialog() {\r\n    this.dialog.open(PreviewDialogComponent, {\r\n      width: '70%',\r\n      data: {\r\n        fileID: this.file._id,\r\n      },\r\n    });\r\n  }\r\n  openEditor() {\r\n    this.router.navigate(['/editor', this.file._id]);\r\n  }\r\n\r\n}\r\n","module.exports = \"<mat-dialog-content>\\r\\n  <p *ngFor=\\\"let text of textList\\\">\\r\\n    {{text}}\\r\\n  </p>\\r\\n</mat-dialog-content>\\r\\n\"","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { FilesService } from '../files.service';\r\nimport { Section } from '../editor/section.model';\r\nimport { Commit } from '../editor/commit';\r\n\r\n@Component({\r\n    selector: 'app-files-detail-preview-dialog',\r\n    templateUrl: 'preview.component.html',\r\n})\r\nexport class PreviewDialogComponent implements OnInit {\r\n\r\n    textList: string[] = [];\r\n    allocateCount = 0;\r\n    constructor(\r\n        public dialogRef: MatDialogRef<PreviewDialogComponent>,\r\n        @Inject(MAT_DIALOG_DATA) public data: { fileID: string },\r\n        private filesService: FilesService\r\n    ) { }\r\n    async ngOnInit() {\r\n        const sections = await this.filesService.getSectionsByFiles(this.data.fileID);\r\n        this.getRawTexts(sections);\r\n    }\r\n    getRawTexts(sections: Section[]) {\r\n        const list = sections.map(section => {\r\n            return section.desc + '  ' + Commit.id(section.commits, section.rawCommit).text.replace('\\\\n', '\\n');\r\n        });\r\n        this.textList = list;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { File } from './files.model';\r\nimport * as url from 'url';\r\nimport { Constants } from './constant';\r\nimport { Router } from '@angular/router';\r\nimport { UsersService } from './users.service';\r\nimport * as Rx from 'rxjs';\r\nimport { Section } from './editor/section.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FilesService {\r\n\r\n  files: File[] = [];\r\n  private keyword = '';\r\n  set Keyword(value) {\r\n    if (this.keyword === value) { return; }\r\n    this.keyword = value;\r\n    localStorage.setItem('keyword', value);\r\n    this.getFiles(false, true);\r\n  }\r\n  get Keyword() { return this.keyword; }\r\n\r\n  private sort = '';\r\n  set Sort(value) {\r\n    if (this.sort === value) { return; }\r\n    this.sort = value;\r\n    this.getFiles(false, true);\r\n  }\r\n  get Sort() { return this.sort; }\r\n  page = 0;\r\n  limit = 10;\r\n  noMoreSubject = new Rx.Subject();\r\n  constructor(private http: HttpClient, private router: Router, private usersService: UsersService) {\r\n    this.keyword = localStorage.getItem('keyword') || '';\r\n  }\r\n  async getFiles(update: boolean = false, force = false) {\r\n    if (!this.usersService.Token) {\r\n      this.router.navigateByUrl('/login');\r\n      return;\r\n    }\r\n    if (this.files.length !== 0 && !update && !force) { return; }\r\n\r\n    if (!update) {\r\n      this.page = 0;\r\n      this.files = [];\r\n    }\r\n    const requestUrl = Constants.GenRequestURL(\r\n      '/assets/files',\r\n      {\r\n        token: this.usersService.Token,\r\n        reg: this.keyword,\r\n        skip: this.page * this.limit,\r\n        limit: this.limit,\r\n        sort: this.sort,\r\n      }\r\n    );\r\n    try {\r\n      const result = await this.http.get<File[]>(requestUrl).toPromise();\r\n      console.log(result);\r\n      if (result.length !== 0) {\r\n        this.page++;\r\n        this.files = this.files.concat(result);\r\n      } else {\r\n        return false;\r\n      }\r\n\r\n    } catch (err) {\r\n      this.router.navigateByUrl('/login');\r\n    }\r\n    return true;\r\n  }\r\n  async getSectionsByFiles(fileId: string) {\r\n    const requestUrl = Constants.GenRequestURL(\r\n      `/assets/file/${fileId}/sections`,\r\n      {\r\n        token: this.usersService.Token,\r\n        contracted: 0,\r\n        skip: 0,\r\n        limit: 0,\r\n      }\r\n    );\r\n    const sections = await this.http.get<Section[]>(requestUrl).toPromise();\r\n    return sections;\r\n  }\r\n  async allocateSection(index: number, count: number) {\r\n    const file = this.files[index];\r\n    if (!file) { throw new Error('no such file'); }\r\n\r\n    const requestUrl = Constants.GenRequestURL(\r\n      `/assets/file/${file._id}/contract`,\r\n      {\r\n        token: this.usersService.Token\r\n      }\r\n    );\r\n\r\n    const r = await this.http.post<File>(requestUrl, {\r\n      count\r\n    }).toPromise();\r\n    this.files[index] = r;\r\n    console.log(r);\r\n  }\r\n}\r\n","module.exports = \".panel-title {\\r\\n  width: 30%;\\r\\n}\\r\\n\\r\\n.more-btn {\\r\\n  margin-top: 5px;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.cond {\\r\\n  display: flex;\\r\\n  align-items:center;\\r\\n}\\r\\n\\r\\n.cond-item {\\r\\n  margin-left: 10px;\\r\\n  margin-right: 10px;\\r\\n}\\r\\n\\r\\nmat-card{\\r\\n  margin-top:5px;\\r\\n  margin-bottom:5px;\\r\\n}\"","module.exports = \"<mat-card>\\r\\n  <mat-card-header>\\r\\n    <mat-card-title>我的翻译进度</mat-card-title>\\r\\n  </mat-card-header>\\r\\n  <mat-card-content>\\r\\n    <app-processbar [data]=\\\"[{value:myTranslated,color:'#20A0FF'}]\\\" [max]=\\\"myTotal\\\"></app-processbar>\\r\\n  </mat-card-content>\\r\\n  <mat-card-actions>\\r\\n    <button mat-button routerLink=\\\"/editor/null\\\">进入编辑器</button>\\r\\n  </mat-card-actions>\\r\\n</mat-card>\\r\\n\\r\\n<mat-card class=\\\"cond\\\">\\r\\n  <div class=\\\"cond-item\\\">\\r\\n    <p>筛选</p>\\r\\n    <mat-form-field>\\r\\n      <input matInput placeholder=\\\"文件名\\\" (keyup)=\\\"searchKeyword$.next($event.target.value)\\\" [value]=\\\"keyword\\\">\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n  <div class=\\\"cond-item\\\">\\r\\n    <p>排序</p>\\r\\n    <mat-form-field>\\r\\n      <mat-select [(value)]=\\\"sort\\\" (selectionChange)=\\\"onSortSelectionChanged($event)\\\">\\r\\n        <mat-option value=\\\"\\\">默认</mat-option>\\r\\n        <mat-option value=\\\"update\\\">更新时间</mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n  <button mat-button (click)=\\\"reloadFileList()\\\">刷新</button>\\r\\n</mat-card>\\r\\n\\r\\n<mat-accordion>\\r\\n  <mat-expansion-panel *ngFor=\\\"let file of filesService.files;index as i\\\">\\r\\n    <mat-expansion-panel-header>\\r\\n      <mat-panel-title>\\r\\n        <div style=\\\"width:30%\\\">\\r\\n          {{file.name}}\\r\\n        </div>\\r\\n        <app-processbar [data]=\\\"[{value:file.translated,color:'#20A0FF'}]\\\" [max]=\\\"file.sectionCount\\\"></app-processbar>\\r\\n      </mat-panel-title>\\r\\n    </mat-expansion-panel-header>\\r\\n\\r\\n    <app-files-detail [file]='file' [index]='i'></app-files-detail>\\r\\n\\r\\n  </mat-expansion-panel>\\r\\n</mat-accordion>\\r\\n\\r\\n<button mat-raised-button class=\\\"more-btn\\\" (click)=\\\"loadMore()\\\" [attr.disabled]=\\\"disable ? '' : null\\\">{{nomore ?\\r\\n  '没有更多了' : '更多'}}</button>\\r\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { FilesService } from '../files.service';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, mergeMap } from 'rxjs/operators';\r\nimport { SectionsService } from '../sections.service';\r\n\r\n@Component({\r\n  selector: 'app-files',\r\n  templateUrl: './files.component.html',\r\n  styleUrls: ['./files.component.css']\r\n})\r\nexport class FilesComponent implements OnInit {\r\n  keyword = '';\r\n  nomore = false;\r\n  disable = false;\r\n  sort = '';\r\n  myTranslated = 0;\r\n  myTotal = 0;\r\n  public searchKeyword$ = new Subject<string>();\r\n  constructor(\r\n    public filesService: FilesService,\r\n    private sectionsService: SectionsService\r\n  ) {\r\n    this.searchKeyword$.pipe(\r\n      debounceTime(400),\r\n      distinctUntilChanged(),\r\n    ).subscribe(async v => {\r\n      filesService.Keyword = v;\r\n      this.nomore = false;\r\n      this.disable = false;\r\n    });\r\n\r\n    this.keyword = filesService.Keyword;\r\n    this.sort = filesService.Sort;\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.filesService.getFiles();\r\n    const r = await this.sectionsService.getAllocatedSectionsCount() as any;\r\n    r.forEach(v => {\r\n      this.myTotal += v.count;\r\n      if (v._id === 1) { this.myTranslated = v.count; }\r\n    });\r\n  }\r\n  reloadFileList() {\r\n    this.filesService.getFiles(false, true);\r\n  }\r\n  onSortSelectionChanged(event) {\r\n    this.filesService.Sort = event.value;\r\n    this.nomore = false;\r\n    this.disable = false;\r\n  }\r\n  async loadMore() {\r\n    this.disable = true;\r\n    const r = await this.filesService.getFiles(true);\r\n    if (r) { this.disable = false; } else {\r\n      this.disable = true; this.nomore = true;\r\n    }\r\n  }\r\n}\r\n","module.exports = \":host {\\r\\n  display: flex;\\r\\n  justify-content: space-around;\\r\\n}\\r\\n\\r\\n.container {\\r\\n  display: flex;\\r\\n  padding: 50px;\\r\\n  flex-flow: column;\\r\\n}\\r\\n\\r\\nbutton {\\r\\n  margin-top: 10px;\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\"","module.exports = \"<mat-card class=\\\"card\\\">\\r\\n  <mat-card-title style=\\\"text-align:center\\\">\\r\\n    お前はもう死んでいる\\r\\n  </mat-card-title>\\r\\n  <mat-card-content>\\r\\n    <form class=\\\"container\\\" [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Username\\\" formControlName=\\\"username\\\">\\r\\n        <mat-error *ngIf=\\\"username.invalid\\\">请输入用户名</mat-error>\\r\\n      </mat-form-field>\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Password\\\" type=\\\"password\\\" formControlName=\\\"password\\\">\\r\\n        <mat-error *ngIf=\\\"password.invalid\\\">请输入密码</mat-error>\\r\\n      </mat-form-field>\\r\\n      <button type=\\\"submit\\\" [disabled]=\\\"!loginForm.valid\\\" mat-raised-button color=\\\"primary\\\">登入</button>\\r\\n      <button mat-raised-button color=\\\"accent\\\" routerLink=\\\"/reg\\\">注册</button>\\r\\n    </form>\\r\\n  </mat-card-content>\\r\\n</mat-card>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, Validators, FormGroup } from '@angular/forms';\r\nimport { UsersService } from '../users.service';\r\nimport { MatSnackBar } from '@angular/material';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  loginForm = new FormGroup({\r\n    'username': new FormControl('', [Validators.required]),\r\n    'password': new FormControl('', [Validators.required]),\r\n  });\r\n  get username() {\r\n    return this.loginForm.get('username');\r\n  }\r\n\r\n  get password() {\r\n    return this.loginForm.get('password');\r\n  }\r\n\r\n  async onSubmit() {\r\n    try {\r\n      const result = await this.usersService.login(this.loginForm.value);\r\n      this.snackBar.open('登入成功', '', {\r\n        duration: 3000,\r\n      });\r\n      this.router.navigateByUrl('/files');\r\n    } catch (err) {\r\n      this.snackBar.open('用户名或密码错误', '', {\r\n        duration: 3000,\r\n      });\r\n    }\r\n  }\r\n  constructor(\r\n    private usersService: UsersService,\r\n    private snackBar: MatSnackBar,\r\n    private router: Router,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<p>\\r\\n  欢迎回来，{{usersService.user && usersService.user.nickname}}\\r\\n</p>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { UsersService } from '../users.service';\r\n\r\n@Component({\r\n  selector: 'app-mypage',\r\n  templateUrl: './mypage.component.html',\r\n  styleUrls: ['./mypage.component.css']\r\n})\r\nexport class MypageComponent implements OnInit {\r\n\r\n  constructor(public usersService: UsersService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \".pipe {\\r\\n  height: 15px;\\r\\n  flex: 1;\\r\\n  border:1px solid black;\\r\\n}\\r\\n\\r\\n.content {\\r\\n  height: 100%;\\r\\n  color: white;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.legend-color {\\r\\n  height: 20px;\\r\\n  width: 20px;\\r\\n  margin-right: 2px;\\r\\n}\\r\\n\\r\\n:host {\\r\\n  height: 17px;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.legend {\\r\\n  display: flex;\\r\\n  margin: 0 10px 0 10px;\\r\\n}\\r\\n\\r\\n.legend-content {\\r\\n  display: flex;\\r\\n  margin: 10px;\\r\\n}\\r\\n\\r\\n.cond {\\r\\n  display: flex;\\r\\n}\\r\\n\\r\\n.container {\\r\\n  display: flex;\\r\\n  height: 100%;\\r\\n  width:50%;\\r\\n}\\r\\n\\r\\np {\\r\\n  margin-top: 0;\\r\\n  margin-bottom: 0;\\r\\n  margin-left:10px;\\r\\n}\\r\\n\"","module.exports = \"<div *ngFor=\\\"let obj of data\\\" class=\\\"container\\\">\\r\\n  <div class=\\\"pipe\\\">\\r\\n    <div class=\\\"content\\\" [ngStyle]=\\\"{'width':(obj.value/max*100).toString()+'%','background-color':obj.color}\\\">\\r\\n    </div>\\r\\n  </div>\\r\\n  <p>{{obj.value}}/{{max}}</p>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"desc\\\" class=\\\"legend-content\\\">\\r\\n  <div *ngFor=\\\"let obj of data\\\" class=\\\"legend\\\">\\r\\n    <div class=\\\"legend-color\\\" [ngStyle]=\\\"{'background-color':obj.color}\\\"></div>\\r\\n    <div class=\\\"legend-desc\\\">\\r\\n      {{obj.desc}}\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n\r\n@Component({\r\n  selector: 'app-processbar',\r\n  templateUrl: './processbar.component.html',\r\n  styleUrls: ['./processbar.component.css'],\r\n})\r\nexport class ProcessbarComponent implements OnInit {\r\n\r\n  constructor() { }\r\n  @Input() data: Array<{ value: number, color: string }>;\r\n  @Input() max: number;\r\n  @Input() desc: boolean;\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \":host {\\r\\n  display: flex;\\r\\n  justify-content: space-around;\\r\\n}\\r\\n\\r\\n.container {\\r\\n  display: flex;\\r\\n  padding: 50px;\\r\\n  flex-flow: column;\\r\\n}\\r\\n\\r\\nbutton {\\r\\n  margin-top: 10px;\\r\\n  margin-bottom: 10px;\\r\\n}\"","module.exports = \"<mat-card class=\\\"card\\\">\\r\\n  <mat-card-title>\\r\\n    和我签订契约，成为魔法少女吧！\\r\\n  </mat-card-title>\\r\\n  <mat-card-content>\\r\\n    <form class=\\\"container\\\" [formGroup]=\\\"regForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Username\\\" formControlName=\\\"username\\\">\\r\\n        <mat-error *ngIf=\\\"regForm.get('username').invalid\\\">请输入用户名</mat-error>\\r\\n        \\r\\n      </mat-form-field>\\r\\n\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Password\\\" type=\\\"password\\\" formControlName=\\\"password\\\">\\r\\n        <mat-error *ngIf=\\\"regForm.get('password').invalid\\\">请输入密码</mat-error>\\r\\n      </mat-form-field>\\r\\n\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"E-mail\\\" type=\\\"email\\\" formControlName=\\\"mail\\\">\\r\\n        <mat-error *ngIf=\\\"regForm.get('mail').invalid\\\">请输入正确的邮箱</mat-error>\\r\\n      </mat-form-field>\\r\\n\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Nickname\\\" formControlName=\\\"nickname\\\">\\r\\n        <mat-error *ngIf=\\\"regForm.get('nickname').invalid\\\">请输入昵称</mat-error>\\r\\n      </mat-form-field>\\r\\n\\r\\n      <button type=\\\"submit\\\" [disabled]=\\\"!regForm.valid\\\" mat-raised-button color=\\\"primary\\\">注册</button>\\r\\n    </form>\\r\\n  </mat-card-content>\\r\\n</mat-card>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { UsersService } from '../users.service';\r\nimport { Router } from '@angular/router';\r\nimport { MatSnackBar } from '@angular/material';\r\n@Component({\r\n  selector: 'app-reg',\r\n  templateUrl: './reg.component.html',\r\n  styleUrls: ['./reg.component.css']\r\n})\r\nexport class RegComponent implements OnInit {\r\n  regForm = new FormGroup({\r\n    'username': new FormControl('', [Validators.required]),\r\n    'password': new FormControl('', [Validators.required]),\r\n    'mail': new FormControl('', [Validators.required, Validators.email]),\r\n    'nickname': new FormControl('', [Validators.required]),\r\n  });\r\n\r\n  async onSubmit() {\r\n    try {\r\n      await this.usersService.reg(this.regForm.value);\r\n      this.snackBar.open('注册成功', '', {\r\n        duration: 3000,\r\n      });\r\n      this.router.navigateByUrl('/files');\r\n    } catch (err) {\r\n      if (err.error.code === 201) {\r\n        alert('用户名已存在');\r\n      }\r\n      if (err.error.code === 202) {\r\n        alert('邮箱已存在');\r\n      }\r\n    }\r\n  }\r\n  constructor(\r\n    private usersService: UsersService,\r\n    private router: Router,\r\n    private snackBar: MatSnackBar,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { UsersService } from './users.service';\r\nimport { Router } from '@angular/router';\r\nimport { Constants } from './constant';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SectionsService {\r\n  constructor(private http: HttpClient, private usersService: UsersService, private router: Router) { }\r\n  async getAllocatedSectionsCount() {\r\n    if (!this.usersService.Token) {\r\n      this.router.navigateByUrl('/login');\r\n    }\r\n    const requestURL = Constants.GenRequestURL(\r\n      '/assets/sections/count',\r\n      {\r\n        token: this.usersService.Token\r\n      }\r\n    );\r\n    try {\r\n      const r = await this.http.get(requestURL).toPromise();\r\n      return r;\r\n    } catch (err) {\r\n      console.log(err);\r\n      this.router.navigateByUrl('/login');\r\n    }\r\n  }\r\n}\r\n","module.exports = \":host {\\r\\n  display: flex;\\r\\n  flex-flow: column;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\na {\\r\\n  padding: 10px 0 10px 0;\\r\\n}\"","module.exports = \"<a mat-button (click)=\\\"mypage()\\\">我</a>\\r\\n<a mat-button routerLink=\\\"/dashboard\\\">总览</a>\\r\\n<a mat-button routerLink=\\\"/files\\\">文本</a>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { UsersService } from '../users.service';\r\nimport { Location } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-sidenav',\r\n  templateUrl: './sidenav.component.html',\r\n  styleUrls: ['./sidenav.component.css']\r\n})\r\nexport class SidenavComponent implements OnInit {\r\n\r\n  constructor(private usersService: UsersService, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  mypage() {\r\n    if (this.usersService.Token) {\r\n      this.router.navigateByUrl('/mypage');\r\n    } else {\r\n      this.router.navigateByUrl('/login');\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport * as url from 'url';\r\nimport { Constants } from './constant';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { User } from './user.model';\r\nimport { Router } from '@angular/router';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UsersService {\r\n  private token = null;\r\n  public get Token() {\r\n    return this.token;\r\n  }\r\n  public set Token(value) {\r\n    this.token = value;\r\n    localStorage.setItem('token', value);\r\n  }\r\n  public user: User = null;\r\n  constructor(\r\n    private http: HttpClient,\r\n    private router: Router,\r\n  ) {\r\n    this.token = localStorage.getItem('token');\r\n    if (this.token) {\r\n      this.getUserInfo();\r\n    }\r\n  }\r\n  async reg(regDto) {\r\n    const requestUrl = Constants.GenRequestURL(\r\n      '/users'\r\n    );\r\n    const result = await this.http.post(requestUrl, regDto).toPromise();\r\n    this.Token = result['message'];\r\n    await this.getUserInfo();\r\n    return <string>result['message'];\r\n  }\r\n  async login(loginDto: {}) {\r\n    const requestUrl = Constants.GenRequestURL(\r\n      '/users/token'\r\n    );\r\n    const result = await this.http.post(requestUrl, loginDto).toPromise();\r\n    this.Token = result['message'];\r\n    await this.getUserInfo();\r\n    return <string>result['message'];\r\n  }\r\n  async getUserInfo() {\r\n    const requestUrl = Constants.GenRequestURL(\r\n      '/user',\r\n      {\r\n        'token': this.token\r\n      },\r\n    );\r\n    try {\r\n      this.user = await this.http.get<User>(requestUrl).toPromise();\r\n    } catch (err) {\r\n      console.log(err);\r\n      this.router.navigateByUrl('/login');\r\n    }\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n\r\n"],"sourceRoot":""}